param(
    [string]$message = "Quick update"
)

Write-Host "âš¡ GitZoom Lightning Push starting..." -ForegroundColor Cyan

# Check if we're in a git repository
if (-not (Test-Path ".git")) {
    Write-Host "âŒ Not in a git repository!" -ForegroundColor Red
    Write-Host "ğŸ’¡ Tip: Run 'git init' to initialize a repository" -ForegroundColor Yellow
    exit 1
}

# Stage all changes
Write-Host "ğŸ“¦ Staging all changes..." -ForegroundColor Yellow
git add .

# Check if there are changes to commit
$status = git status --porcelain
if (-not $status) {
    Write-Host "âœ… No changes to commit - you're already zoomed!" -ForegroundColor Green
    exit 0
}

# Commit with message
Write-Host "ğŸ’¾ Committing changes..." -ForegroundColor Yellow
git commit -m $message

if ($LASTEXITCODE -ne 0) {
    Write-Host "âŒ Commit failed!" -ForegroundColor Red
    exit 1
}

# Push to remote
Write-Host "ğŸš€ Pushing to remote..." -ForegroundColor Yellow
git push

if ($LASTEXITCODE -eq 0) {
    Write-Host "âœ… Changes successfully pushed to GitHub!" -ForegroundColor Green
    Write-Host "âš¡ GitZoom Lightning Push completed! You're flying!" -ForegroundColor Magenta
    Write-Host "   Generated by GitZoom - https://github.com/GaBe141/GitZoom" -ForegroundColor DarkGray
} else {
    Write-Host "âŒ Push failed!" -ForegroundColor Red
    exit 1
}